---
import { getCollection } from "astro:content";
import Layout from "../components/Layout.astro";
import PageTitle from "../components/PageTitle.astro";
import Wrapper from "../components/Wrapper.astro";
import UseCard from "~/components/uses/UseCard.astro";

const areas = await getCollection("areas");
const uses = await getCollection("uses");
---

<Layout title="Uses">
  <Wrapper>
    <PageTitle>Uses</PageTitle>

      {
        areas.map((area) => (
          <h2 class="text-4xl font-bold mb-4">{area.data.title}</h2>
    <section class="mb-32 grid grid-cols-4 items-stretch gap-4 sm:gap-8">
      {uses.filter(use => use.data.area.slug === area.slug).map((use) => (<UseCard use={use} />))}
    </section>
        ))
      }
  </Wrapper>
</Layout>
