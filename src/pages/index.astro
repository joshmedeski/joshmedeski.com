---
import Layout from "../components/Layout.astro";
import RecentPosts from "../components/RecentPosts.astro";
import PostCard from "./post/PostCard.astro";
import { getCollection } from "astro:content";

const allPosts = await getCollection("posts", ({ data: { draft } }) => !draft);
const sortedPosts = allPosts.sort(
  ({ data: a }, { data: b }) => b.pubDate.getTime() - a.pubDate.getTime()
);
const latestPost = sortedPosts[0];
const recentPosts = sortedPosts.slice(0, 5);
---

<Layout
  themeColor="#ffffff"
  title="Home"
  description="Empowering developers and creatives to build and grow with intention, by sharing insights and tools."
>
  <RecentPosts />
</Layout>
