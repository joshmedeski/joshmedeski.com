---
import type { MarkdownInstance } from "astro";
import type { BlogPostFrontmatter } from "../layouts/BlogPost.astro";
import type { Props as CatProps } from "../components/Category.astro";
import { categories } from "../components/Categories.astro";
import clsx from "clsx";
export interface Props extends MarkdownInstance<BlogPostFrontmatter> {}
const {
  url,
  frontmatter: { title, description, pubDate, categorySlug, heroImage },
} = Astro.props;
const cat = categories.find((cat) => cat.slug === categorySlug) as CatProps;
---

<a href={url} class="">
  {
    heroImage && (
      <img src={heroImage} alt={title} class="rounded-md shadow-sm mb-4" />
    )
  }
  <div class="mx-2">
    <div
      class={clsx(
        "flex justify-between mb-2 font-medium tracking-wide",
        cat.style?.desc
      )}
    >
      <div class="flex text-sm">
        <cat.icon class="w-4 mr-2" />
        <p class="mr-2 block">
          {cat.title}
        </p>
        <time datetime={pubDate}>
          {new Date(pubDate).toLocaleDateString("en-US", { dateStyle: "long" })}
        </time>
      </div>
    </div>
    <h3 class="font-extrabold leading-none mb-1 text-xl">
      {title}
    </h3>
    <p class="text-sm mb-2">{description}</p>
  </div>
</a>
