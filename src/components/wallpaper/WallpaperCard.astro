---
import type { CollectionEntry } from 'astro:content'
import { Image } from 'astro:assets'

interface Props {
  wallpaper: CollectionEntry<'wallpapers'>
}

const { wallpaper } = Astro.props

const { width } = wallpaper.data
const resLabel = width && width >= 3840 ? '4K' : width && width >= 1920 ? 'HD' : null
---

<a href={`/wallpapers/${wallpaper.id}`} class="flex flex-col" data-astro-prefetch>
  <div class="relative">
    <Image
      src={wallpaper.data.image}
      alt={wallpaper.data.title}
      width="558"
      height="372"
      class="w-full rounded-lg bg-black shadow-md mb-4"
      transition:name={`wallpaper-${wallpaper.id}-thumb`}
    />
    {resLabel && (
      <span class="absolute top-2 right-2 rounded bg-black/70 px-2 py-0.5 text-xs font-bold text-white">
        {resLabel}
      </span>
    )}
  </div>
  <div class="">
    <h3 class="text-2xl font-bold leading-none" transition:name={`wallpaper-${wallpaper.id}-title`}>
      {wallpaper.data.title}
    </h3>
  </div>
</a>

